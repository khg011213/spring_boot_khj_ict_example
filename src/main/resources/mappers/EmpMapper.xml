<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.ict.ex.mapper.EmpMapper">
    <select id="getList" resultType="edu.ict.ex.vo.EmpVO"> <!-- 리스트 타입이어도 괄호안에이쓴ㄴ VO를 적음 -->
        select * from emp order by empno
    </select>
    <insert id="insert">
    	insert into emp (empno, ename, job, mgr, hiredate, sal, comm, deptno) values (#{empno} ,#{ename},#{job},#{mgr},#{hiredate},#{sal},#{comm},#{deptno} )
    </insert>
    
<!--     <insert id="insert">
    	INSERT INTO EMP VALUES (#{empno} ,#{ename},#{job},#{mgr},#{hiredate2},#{sal},#{comm},#{deptno})
    </insert> -->
    <select id="getTotal" resultType="int">
    select count(*) from emp
    </select>
    
    <select id="getListWithPageing" resultType="EmpVO"> <!-- 리스트 타입이어도 괄호안에이쓴ㄴ VO를 적음 -->
        <![CDATA[
         SELECT * FROM (
              SELECT ROWNUM AS RNUM, A.* FROM (
                          SELECT *  FROM emp order by empno desc
                ) A WHERE ROWNUM <= #{pageNum} * #{amount}
         ) WHERE RNUM > (#{pageNum}-1) * #{amount}
         ]]>
    </select>
     
</mapper>